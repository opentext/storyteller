<stl:stl xmlns:stl="http://developer.opentext.com/schemas/storyteller/layout" 
		 xmlns:xp="http://developer.opentext.com/schemas/storyteller/xmlpreprocessor" version="0.1">
  <stl:fixtures>
	<xp:fixture key="link:/images/ducks.png" src="wd:/ducks.png"/>
	<xp:fixture key="link:/images/arrow.png" encoding="base64">
	  iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAACDElEQVQ4Ea1VPUsjURSdlw8nxTaLKJbiR7JgI7qFj
	  RbbpUgmgvkJVoIurHFZdNFKVgXRrfwPUZPJFGks0qu7hSAyi9oJYqEkQTIT5e25k0x4vMmoAR883r3nnHvf1503TG
	  nT4vG4Gg6raVDT6KPoH5uye8aUv5yzXL1e2y8Wi1YTbw2sZTUNTdNmELAFt1/mJP+acyVjGPkDEW8lTKfTwVrN3ma
	  MzYuCN9g7qhpezGazz6QNuQGWZe8i2ZzrdzB+xUIC0C9QjLPCRCKVwtnkOkgiSzljXNN13WDYapdl1c+hGJRVoo/V
	  b3DOv4uYZP/r6+sdCQ4Nxeg2ZyXS40L8pVKpBpB4ykM2gO5q9fEsgFlTPgIPbBj6ChKue4gmQLlCOLuxNoIjGTNNk
	  xOm67nlZDJFZ/9D1uAcxxjICogPIlko5FvlJOKijbhV+GsiBrtC1/1qsBTkuNherR1OdXiDPiySmP1E9Mkulx8mSq
	  XSE9nglzD8IltqN7gU5Y8Ekjsu92g06uwkmZzOgNsgkdyQ65TKIC8Tfn4ioS0qCt/04ylXQFVDhxBc+olc/Pb27hs
	  C6NHwayjsnsZtvuenF6TpTPPiIhb7pMKc9Jv+JRw3vl4o6HukobJxGp6gnyB+u34H404k0kU16TRPDb7bA+vOQGPj
	  FxCh5z+OW/2MPtDg2RXGY3xiRdu28+1+Af8B5Veuq3n4GT4AAAAASUVORK5CYII=
	</xp:fixture>
	<xp:fixture key="link:/fragments/fragment.pdf" encoding="base64">
	  JVBERi0xLjcKCjEgMCBvYmogICUgZW50cnkgcG9pbnQKPDwKICAvVHlwZSAvQ2F0YWxvZwogIC9Q
	  YWdlcyAyIDAgUgo+PgplbmRvYmoKCjIgMCBvYmoKPDwKICAvVHlwZSAvUGFnZXMKICAvTWVkaWFC
	  b3ggWyAwIDAgMjAwIDIwMCBdCiAgL0NvdW50IDEKICAvS2lkcyBbIDMgMCBSIF0KPj4KZW5kb2Jq
	  CgozIDAgb2JqCjw8CiAgL1R5cGUgL1BhZ2UKICAvUGFyZW50IDIgMCBSCiAgL1Jlc291cmNlcyA8
	  PAogICAgL0ZvbnQgPDwKICAgICAgL0YxIDQgMCBSIAogICAgPj4KICA+PgogIC9Db250ZW50cyA1
	  IDAgUgo+PgplbmRvYmoKCjQgMCBvYmoKPDwKICAvVHlwZSAvRm9udAogIC9TdWJ0eXBlIC9UeXBl
	  MQogIC9CYXNlRm9udCAvVGltZXMtUm9tYW4KPj4KZW5kb2JqCgo1IDAgb2JqICAlIHBhZ2UgY29u
	  dGVudAo8PAogIC9MZW5ndGggNDQKPj4Kc3RyZWFtCkJUCjcwIDUwIFRECi9GMSAxMiBUZgooSGVs
	  bG8sIHdvcmxkISkgVGoKRVQKZW5kc3RyZWFtCmVuZG9iagoKeHJlZgowIDYKMDAwMDAwMDAwMCA2
	  NTUzNSBmIAowMDAwMDAwMDEwIDAwMDAwIG4gCjAwMDAwMDAwNzkgMDAwMDAgbiAKMDAwMDAwMDE3
	  MyAwMDAwMCBuIAowMDAwMDAwMzAxIDAwMDAwIG4gCjAwMDAwMDAzODAgMDAwMDAgbiAKdHJhaWxl
	  cgo8PAogIC9TaXplIDYKICAvUm9vdCAxIDAgUgo+PgpzdGFydHhyZWYKNDkyCiUlRU9GCg==
	</xp:fixture>
	<xp:fixture key="link:/stylesheets/default.xml">
	  <stylesheet name="First set of tests">
		<style selector="normal">
		  <character>
			<foreground>RGB(0,0,128)</foreground>
			<font>
			  <name>Arial</name>
			  <pointsize>10</pointsize>
			</font>  	      
		  </character>
		  <paragraph>
			<alignment>center</alignment>
		  </paragraph>
		</style>
	  </stylesheet>
	</xp:fixture>
	<xp:fixture key="link:/fragments/fragment.xml">
	  <stl xmlns="http://developer.opentext.com/schemas/storyteller/layout" version="0.1">
		<document>
		  <story>
			<p>This is an external <span style="font-weight:bold">Native</span> <span style="font-style:italic">fragment</span></p>
		  </story>
		</document>
	  </stl>
	</xp:fixture>
	<xp:fixture key="link:/fragments/fragment.html">
	  <html>
		<body>
		  <p>This is an external <b>HTML</b> <i>fragment</i></p>
		</body>
	  </html>
	</xp:fixture>
	<xp:fixture key="link:/fragments/fragment.rtf">
{\rtf1\ansi\deff3\adeflang1025
{\fonttbl{\f0\froman\fprq2\fcharset0 Times New Roman;}{\f1\froman\fprq2\fcharset2 Symbol;}{\f2\fswiss\fprq2\fcharset0 Arial;}{\f3\froman\fprq2\fcharset0 Liberation Serif{\*\falt Times New Roman};}{\f4\fswiss\fprq2\fcharset0 Liberation Sans{\*\falt Arial};}{\f5\fnil\fprq2\fcharset0 Noto Sans CJK SC Regular;}{\f6\fnil\fprq2\fcharset0 Lohit Hindi;}{\f7\fnil\fprq0\fcharset128 Lohit Hindi;}}
{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;\red255\green51\blue51;\red0\green153\blue0;\red153\green153\blue153;}
{\stylesheet{\s0\snext0\widctlpar\hyphpar0\cf0\kerning1\dbch\af5\langfe2052\dbch\af6\afs24\alang1081\loch\f3\fs24\lang1033 Normal;}
{\s15\sbasedon0\snext16\sb240\sa120\keepn\dbch\af5\dbch\af6\afs28\loch\f4\fs28 Heading;}
{\s16\sbasedon0\snext16\sl288\slmult1\sb0\sa140 Text Body;}
{\s17\sbasedon16\snext17\sl288\slmult1\sb0\sa140\dbch\af7 List;}
{\s18\sbasedon0\snext18\sb120\sa120\noline\i\dbch\af7\afs24\ai\fs24 Caption;}
{\s19\sbasedon0\snext19\noline\dbch\af7 Index;}
}{\*\generator LibreOffice/5.1.2.2$Linux_X86_64 LibreOffice_project/10m0$Build-2}{\info{\creatim\yr2016\mo5\dy31\hr15\min7}{\revtim\yr2016\mo5\dy31\hr15\min10}{\printim\yr0\mo0\dy0\hr0\min0}}\deftab709
\viewscale100
{\*\pgdsctbl
{\pgdsc0\pgdscuse451\pgwsxn11906\pghsxn16838\marglsxn1134\margrsxn1134\margtsxn1134\margbsxn1134\pgdscnxt0 Default Style;}}
\formshade\paperh16838\paperw11906\margl1134\margr1134\margt1134\margb1134\sectd\sbknone\sectunlocked1\pgndec\pgwsxn11906\pghsxn16838\marglsxn1134\margrsxn1134\margtsxn1134\margbsxn1134\ftnbj\ftnstart1\ftnrstcont\ftnnar\aenddoc\aftnrstcont\aftnstart1\aftnnrlc
{\*\ftnsep\chftnsep}\pgndec\pard\plain \s0\widctlpar\hyphpar0\cf0\kerning1\dbch\af5\langfe2052\dbch\af6\afs24\alang1081\loch\f3\fs24\lang1033{\rtlch \ltrch\loch
External RTF containing a }{\i\highlight7\ai\rtlch \ltrch\loch
rich}{\i\ai\rtlch \ltrch\loch
 }{\cf17\b\afs32\ab\rtlch \ltrch\loch\fs32
t}{\cf18\b\afs32\ab\rtlch \ltrch\loch\fs32
e}{\cf2\b\afs32\ab\rtlch \ltrch\loch\fs32
x}{\cf1\b\afs32\ab\rtlch \ltrch\loch\fs32
t}{\rtlch \ltrch\loch
.}
\par }	  
	</xp:fixture>
	<xp:fixture key="link:/data/source.xml">
	  <data>
		<message>
          <issue id="123" status="i"/>
          <issue id="456" status="r"/>
          <issue id="789" status="f"/>
          <issue id="007" status="c"/>
		</message>
      </data>
	</xp:fixture>
	<xp:fixture key="link:/data/lookup.xml">
	  <statusmap>
        <status value="n">New</status>
        <status value="o">Open</status>
        <status value="i">In Progress</status>
        <status value="f">Resolved</status>
        <status value="r">Reopened</status>
        <status value="c">Closed</status>
	  </statusmap>
	</xp:fixture>
	<xp:fixture key="link:/data/transformation.xml">
	  <tdt:transformation xmlns:tdt="http://developer.opentext.com/schemas/storyteller/transformation/tdt" version="1.0">
		<tdt:rule path="/data/issues/issue">
          <tdt:value key=".">/data/message/issue</tdt:value>
          <tdt:value key="$status">@status</tdt:value>
          <tdt:value key="@id">@id</tdt:value>
          <tdt:value key="text()">tdt:document('link:/data/lookup.xml')/statusmap/status[@value = $status]</tdt:value>
		</tdt:rule>
      </tdt:transformation>
	</xp:fixture>
	<xp:fixture key="link:/data/template.xml">
	  <data xmlns:dpii="http://developer.opentext.com/schemas/storyteller/layout/ddi/v1">
		<issues>
          <issue id="?"/>
		</issues>
      </data>
	</xp:fixture>
  </stl:fixtures>
  <stl:data>
	<stl:source src="link:/data/source.xml"/>
	<stl:transformation src="link:/data/transformation.xml"/>
	<stl:template src="link:/data/template.xml"/>
  </stl:data>
  <stl:document>
	<!--<stl:stylesheet src="link:/stylesheets/default.xml"/>-->
	<stl:page w="300pt" h="220pt">
	  <stl:text x="20pt" y="10pt" w="260pt" h="190pt" style="fill:#ffffaa">
		<stl:story tag="normal">
		  <stl:block style="text-align: center; font-family: Arial; font-size: 10pt; color: rgb(0,0,128);">
			<stl:p>Linked image: <stl:image src="link:/images/ducks.png"/></stl:p>
			<stl:p>Embedded image: <stl:image src="link:/images/arrow.png"/></stl:p>
			<stl:p>Embedded Native fragment: <stl:content uri='link:/fragments/fragment.xml' selector='/story[1]'/></stl:p>
			<stl:p>Embedded RTF fragment: <stl:content uri='link:/fragments/fragment.rtf' selector='/story[1]'/></stl:p>
			<stl:p>Embedded HTML fragment: <stl:content uri="link:/fragments/fragment.html"/></stl:p>
		  </stl:block>
		</stl:story>
	  </stl:text>
	  <stl:fragment x="0pt" y="60pt" src="link:/fragments/fragment.pdf!/item[1]"/>
	</stl:page>
  </stl:document>
</stl:stl>
